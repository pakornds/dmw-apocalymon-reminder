name: Forest Tour Reminder

on:
  schedule:
    # Every 1.5 hours starting at 01:00 (5 minutes early, e.g. 01:00, 04:00, 07:00, ...)
    - cron: "0 1,4,7,10,13,16,19,22 * * *"
    # Every 1.5 hours starting at 02:30 (5 minutes early, e.g. 02:30, 05:30, 08:30, ...)
    - cron: "30 2,5,8,11,14,17,20,23 * * *"
  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Reminder with Banner
        run: |
          curl -X POST -H "Content-Type: application/json" \
            -d '{
              "content": "@everyone Reminder! Forest Tour will start soon!",
              "embeds": [
                {
                  "title": "Event Reminder",
                  "description": "Prepare for the upcoming event!",
                  "color": 16711680,
                  "image": {
                    "url": "https://dmowiki.com/images/a/a4/Loading_ForestArea.jpg"
                  },
                  "footer": {
                    "text": "Next event soon..."
                  }
                }
              ]
            }' \
            "${{ secrets.DISCORD_WEBHOOK_URL }}"
