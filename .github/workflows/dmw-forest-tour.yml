name: Forest Tour Reminder

on:
  schedule:
    # Every 1.5 hours starting at 00:05 (e.g. 00:05, 03:05, 06:05, ...)
    - cron: "5 0,3,6,9,12,15,18,21 * * *"
    # Every 1.5 hours starting at 01:35 (e.g. 01:35, 04:35, 07:35, ...)
    - cron: "35 1,4,7,10,13,16,19,22 * * *"
  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Reminder with Banner
        run: |
          curl -X POST -H "Content-Type: application/json" \
            -d '{
              "content": "@everyone Reminder! Forest Tour will start soon!",
              "embeds": [
                {
                  "title": "Event Reminder",
                  "description": "Prepare for the upcoming event!",
                  "color": 16711680,
                  "footer": {
                    "text": "Next event in 5 minutes..."
                  }
                }
              ]
            }' \
            "${{ secrets.DISCORD_WEBHOOK_URL }}"
